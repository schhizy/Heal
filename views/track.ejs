<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://kit.fontawesome.com/01d68998f7.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" href="/img/Icon.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
  <!-- <link rel="stylesheet" href="css/style1.css"> -->
  <!-- <link rel="stylesheet" href="saas/main.css"> -->
  <title>Health Case</title>
</head>

<body>

  <nav id="navBar" class="navbar navbar-expand-lg navbar-light navigation--row navEdit navigation__nav">
    <a href="/"> <img class="navlogo logo" src="img/Logo.png" alt=""></a>
    <button id="hamMenu" class="navbar-toggler hide" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <div class="textBox">
          Dark
        </div>
        <label><input id="checkbox" type="checkbox"><span class="checkB"></label>
        <li class="navigation__item nav-item"><a href="#aboutUs" class="fontWhite navigation__link">About Us</a></li>
        <li class="navigation__item nav-item"><a href="#keyFea" class="fontWhite navigation__link">Key features</a></li>
        <li class="navigation__item nav-item"><a href="/track" class="fontWhite navigation__link">Track Your Fitness</a></li>
        <li class="navigation__item nav-item"><a href="/" class="fontWhite navigation__link btn btn--green  btn--login blueBack">Home</a></li>
        <li class="navigation__item nav-item"><a id="logout" class="fontWhite navigation__link btn btn--green btn--signup blueBack">Logout</a></li>
      </ul>
    </div>
  </nav>

  <section class="track">
    <div class="track-box">

      <form class="track-box-form track-form" id="track-form">
        <div class="form__group">
          <input type="number" class="form__input form__input--track  form__input--track-fat " placeholder="Fat%" id="fat" required>
          <label for="fat" class="form__label form__label--track">Fat%</label>
        </div>
        <div class="form__group">
          <input type="number" class="form__input form__input--track  form__input--track-bmi" placeholder="BMI" id="bmi" required>
          <label for="bmi" class="form__label form__label--track">BMI</label>
        </div>
        <div class="form__group">
          <input type="number" class="form__input form__input--track  form__input--track-weight" placeholder="Weight Kg" id="weight" required>
          <label for="weight" class="form__label form__label--track">Weight Kg</label>
        </div>
        <div class="form__group">
          <input type="number" class="form__input form__input--track  form__input--track-sugar" placeholder="Blood Sugar" id="sugar" required>
          <label for="sugar" class="form__label form__label--track">Blood Sugar</label>
        </div>
        <div class="form__group">
          <input type="number" class="form__input form__input--track  form__input--track-bp" placeholder="Blood Pressure" id="bp" required>
          <label for="bp" class="form__label form__label--track">Blood Pressure</label>
        </div>
        <div class="track-note">
          <p>Note:- Enter & submit min. 2 values times to visualize on graph.</p>
        </div>
        <div class="form__group form__group--btn">
          <button class="btn btn--green">Submit</button>
        </div>
      </form>
    </div>


    <div class="track-map">
      <div class="overflowChart" style="max-width: 1000px;">
        <canvas id="infChart" width="900" height="560"></canvas>
      </div>
    </div>

  </section>
  <div id="goToTop" class="gototop">
    <a href="mailto:kumarut9502@gmail.com"> <button class="btn btn-dange btn-sm toShow" type="button" name="button"> <i style="color:#fff; font-size:50px;line-height:60px;" class="fas fa-envelope aaa"></i></button></a>
    <a href="#"> <button class="btn btn-dange btn-sm" type="button" name="button"> <i style="color:#fff; font-size:50px;line-height:60px;" class="fas fa-arrow-up aaa"></i></button></a>
  </div>
  <footer class="footer">


    <div class="footer__logo-box">
      <img src="/img/Logo.png" alt="Full-logo" class="footer__logo">
    </div>
    <div class="row footRow">
      <div class="col-1-of-2 foot col-12 col-md-6">
        <div class="footer__navigation">
          <ul class="footer__list row">
            <li class="footer__item"><a href="#" class="footer__link">Company</a></li>
            <li class="footer__item"><a href="#" class="footer__link">Contact Us</a></li>
            <li class="footer__item"><a href="#" class="footer__link">Carrers</a></li>
            <li class="footer__item"><a href="#" class="footer__link">Privacy policy</a></li>
            <li class="footer__item"><a href="#" class="footer__link">Terms</a></li>
          </ul>
        </div>
      </div>
    </div>
    <p class="copyright">Made By Team Introvurtles</p>
  </footer>





</body>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="/js/script.js"></script>
<script type="text/javascript">
  const trackForm = document.querySelector('.track-form');
  var FatArray = JSON.parse(localStorage.getItem('fat'));
  var bmiArray = JSON.parse(localStorage.getItem('bmi'));
  var weigthArray = JSON.parse(localStorage.getItem('weigth'));
  var sugarArray = JSON.parse(localStorage.getItem('sugar'));
  var bloodPressureArray = JSON.parse(localStorage.getItem('bp'));

  if (FatArray === null) {
    localStorage.setItem('fat', JSON.stringify([0]))
    localStorage.setItem('bmi', JSON.stringify([0]))
    localStorage.setItem('weigth', JSON.stringify([0]))
    localStorage.setItem('sugar', JSON.stringify([0]))
    localStorage.setItem('bp', JSON.stringify([0]))

    FatArray = JSON.parse(localStorage.getItem('fat'));
    bmiArray = JSON.parse(localStorage.getItem('bmi'));
    weigthArray = JSON.parse(localStorage.getItem('weigth'));
    sugarArray = JSON.parse(localStorage.getItem('sugar'));
    bloodPressureArray = JSON.parse(localStorage.getItem('bp'));
  }


  if (FatArray.length > 8) {
    FatArray.shift();
    bmiArray.shift();
    weigthArray.shift();
    sugarArray.shift();
    bloodPressureArray.shift();
    console.log('We are in IF')
  }


  trackForm.addEventListener('submit', (e) => {
    e.preventDefault();
    console.log('Form is submitted')

    const fat = document.getElementById('fat').value;
    const bmi = document.getElementById('bmi').value;
    const weigth = document.getElementById('weight').value;
    const sugar = document.getElementById('sugar').value;
    const bp = document.getElementById('bp').value;
    FatArray.push(fat)
    bmiArray.push(bmi)
    weigthArray.push(weigth)
    sugarArray.push(sugar)
    bloodPressureArray.push(bp)

    localStorage.setItem('fat', JSON.stringify(FatArray))
    localStorage.setItem('bmi', JSON.stringify(bmiArray))
    localStorage.setItem('weigth', JSON.stringify(weigthArray))
    localStorage.setItem('sugar', JSON.stringify(sugarArray))
    localStorage.setItem('bp', JSON.stringify(bloodPressureArray))
    // console.log(fat,bmi,weigth,sugar,bp);

    // clearing the input values
    document.getElementById('fat').value = "";
    document.getElementById('bmi').value = "";
    document.getElementById('weight').value = "";
    document.getElementById('sugar').value = "";
    document.getElementById('bp').value = "";

    var chart = document.getElementById("infChart").getContext("2d");

    var healthChart = new Chart(chart, {
      type: 'line',
      data: {
        labels: ['Day 0', 'Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7'],
        datasets: [{
            label: 'Fat (%)',
            // data: [18.50, 18.70, 18.40, 19.20, 19.20, 18.80, 17.90, 18.70],
            data: FatArray,
            backgroundColor: 'rgba(255,0,0,0.3)',
            borderDash: [0, 500],
            borderColor: 'rgba(255,0,0)',
            pointRadius: 0,
            pointHoverRadius: 12,
          },
          {
            label: 'BMI',
            // data: [21.00, 21.30, 21.40, 21.80, 21.80, 21.60, 22.10, 22.50],
            data: bmiArray,
            backgroundColor: 'rgba(255,120,255,0.3)',
            borderDash: [0, 500],
            borderColor: 'rgba(255,120,255)',
            pointRadius: 0,
            pointHoverRadius: 12,
          },
          {
            label: 'Weight (Kg)',
            // data: [65.45, 66.00, 66.55, 67.55, 67.55, 67.15, 68.6, 69.74],
            data: weigthArray,
            backgroundColor: 'rgba(54, 162, 235,0.3)',
            borderDash: [0, 500],
            borderColor: 'rgba(54, 162, 235)',
            pointRadius: 0,
            pointHoverRadius: 12,
          },
          {
            label: 'Blood Sugar',
            // data: [88, 93, 90, 99, 95, 91, 89, 87],
            data: sugarArray,
            backgroundColor: 'rgba(0,225,120,0.3)',
            borderDash: [0, 500],
            borderColor: 'rgba(0,225,120)',
            pointRadius: 0,
            pointHoverRadius: 12,
          },
          {
            label: 'Blood Pressure (U)',
            // data: [117, 120, 114, 113, 118, 117, 115, 118],
            data: bloodPressureArray,
            backgroundColor: 'rgba(120,120,120,0.3)',
            borderDash: [0, 500],
            borderColor: 'rgba(120,120,120)',
            pointRadius: 0,
            pointHoverRadius: 12,
          }
        ]
      },
      options: {
        // responsive: false,
        title: {
          display: true,
          text: "Your Health Chart",
          position: "top",
          fontSize: 26,
        },
        legend: {
          display: true,
          position: "right",
        },
        tooltips: {
          // mode: 'index',
          intersect: false,
        },
        hover: {
          mode: 'index'
        },
        animation: {
          duration: 2500,
        },
        scales: {
          xAxes: [{
            display: true,
            // gridLines:{
            //   display: false,
            // },
            scaleLabel: {
              display: true,
              labelString: 'Last 10 days',
              fontSize: 19,
            }
          }],
          yAxes: [{
            display: true,
            gridLines: {
              display: false,
            },
            scaleLabel: {
              display: true,
              labelString: 'Values',
              fontSize: 19,
            },
            // ticks:{
            //   min:0,
            //   max:120
            // }
          }]
        }
      },
    });

  })
</script>

</html>
